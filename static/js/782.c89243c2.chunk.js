"use strict";(self.webpackChunkmy_app_1=self.webpackChunkmy_app_1||[]).push([[782],{782:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(791),a=t(628);const o="ProfileInfo_descriptionBlock__2mcKR";var i=t(184);const n=e=>{let[s,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)(e.status);(0,r.useEffect)((()=>{o(e.status)}),[e.status]);return(0,i.jsxs)("div",{children:[!s&&(0,i.jsx)("div",{children:(0,i.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status||"No status"})}),s&&(0,i.jsx)("div",{children:(0,i.jsx)("input",{onChange:e=>{o(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),e.updateStatus(a)},value:a})})]})},u=e=>{let{profile:s,status:t,updateStatus:r}=e;return s?(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:o,children:[s.aboutMe," ",(0,i.jsx)("br",{}),s.fullName," ",(0,i.jsx)("br",{}),s.contacts.facebook,(0,i.jsx)("div",{children:(0,i.jsx)("img",{src:s.photos.large,alt:"ava"})}),(0,i.jsx)(n,{status:t,updateStatus:r})]})}):(0,i.jsx)(a.Z,{})};var l=t(70);const d="MyPosts_postsBlock__dTBef",c="MyPosts_posts__kpXFC",p="MyPosts_postError__XtE1H",x="MyPosts_error__9LK+X",h="Post_item__286TB",j=e=>(0,i.jsxs)("div",{className:h,children:[(0,i.jsx)("img",{src:"https://w7.pngwing.com/pngs/340/946/png-transparent-avatar-user-computer-icons-software-developer-avatar-child-face-heroes-thumbnail.png"}),e.message,(0,i.jsx)("div",{children:(0,i.jsxs)("span",{children:["like : ",e.likes]})})]});var m=t(134);const f=e=>{if(!e)return"Field is required"};var g=t(994);const v=e=>{const{register:s,handleSubmit:t,reset:r,formState:{errors:a,touchedFields:o},trigger:n}=(0,m.cI)();return(0,i.jsxs)("form",{onSubmit:t((async s=>{await n(),0===Object.keys(a).length&&(e.addPost(s.Textarea),r())})),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(g.gx,{component:g.gx,...s("Textarea",{required:f,maxLength:{value:30,message:"No more than 30 characters."}}),className:a.Textarea?x:""}),o.Textarea&&a.Textarea&&"required"===a.Textarea.type&&(0,i.jsx)("p",{className:p,children:"Textarea is required."}),a.Textarea&&"maxLength"===a.Textarea.type&&(0,i.jsx)("p",{className:p,children:"No more than 30 characters."})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",children:"Add post"})})]})},_=e=>{const[s,t]=(0,r.useState)(e.posts);let a=null===s||void 0===s?void 0:s.map((e=>(0,i.jsx)(j,{message:e.message,likes:e.likes})));return(0,i.jsxs)("div",{className:d,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"My posts"}),(0,i.jsx)("div",{})]}),(0,i.jsx)(v,{addPost:e=>{const r=[...s,{id:s.length+1,message:e}];t(r)}}),(0,i.jsx)("div",{className:c,children:a})]})};var P=t(420);const T=(0,P.$j)((e=>({posts:e.profilePage.posts,newPostText:e.profilePage.newPostText})),((e,s)=>({addPost:s=>{e((0,l.Wl)(s))},newMessageText:s.newMessageText})))(_),S=e=>(0,i.jsxs)("div",{children:[(0,i.jsx)(u,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,i.jsx)(T,{})]});var k=t(689),b=t(154);class w extends r.Component{componentDidMount(){let e=this.props.router.params.userId;e||(e=this.props.autorizedUserId,e||this.props.router.navigate("/login")),this.props.getUserProfile(e),this.props.getStatus(e)}render(){return(0,i.jsx)("div",{children:(0,i.jsx)(S,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}const N=(0,b.qC)((0,P.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.userId,isAuth:e.auth.isAuth})),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf}),(function(e){return function(s){let t=(0,k.TH)(),r=(0,k.s0)(),a=(0,k.UO)();return(0,i.jsx)(e,{...s,router:{location:t,navigate:r,params:a}})}}))(w)},994:(e,s,t)=>{t.d(s,{II:()=>l,gx:()=>u,ZP:()=>d});var r=t(791);const a="FormsControl_formControl__sZLpi",o="FormsControl_error__JhzWj";var i=t(184);const n=(0,r.forwardRef)(((e,s)=>{let{input:t,meta:r,children:n}=e;const u=r&&r.touched&&r.error;return(0,i.jsxs)("div",{className:a+" "+(u?o:""),children:[(0,i.jsx)("div",{children:n}),u&&(0,i.jsx)("span",{children:r.error})]})})),u=(0,r.forwardRef)(((e,s)=>{let{input:t,meta:r,...a}=e;return(0,i.jsx)(n,{input:t,meta:r,ref:s,children:(0,i.jsx)("textarea",{...t,...a,ref:s})})})),l=(0,r.forwardRef)(((e,s)=>{let{input:t,meta:r,...a}=e;return(0,i.jsx)(n,{input:t,meta:r,ref:s,children:(0,i.jsx)("input",{...t,...a,ref:s})})})),d=u}}]);
//# sourceMappingURL=782.c89243c2.chunk.js.map